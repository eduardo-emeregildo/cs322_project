#:kivy 1.0.7

<GroupWindow>:
    rows: 4
    cols: 1
    name: "grouppage"

    groupDesc: groupDesc
    groupDesc2: groupDesc2
    postTask1: postTask1
    postPoll1: postPoll1
    postPollVote1: postPollVote1
    user1_info: user1_info
    user2_info: user2_info
    user3_info: user3_info
    user4_info: user4_info
    user5_info: user5_info

    btnClaim: btnClaim
    btnPoll1: btnPoll1
    btnPoll2: btnPoll2

    btnPollInputs: btnPollInputs
    btnTaskInputs: btnTaskInputs
    btnChooseInputs: btnChooseInputs
    inputsTask: inputsTask
    inputsChoose: inputsChoose
    btnCreatePoll: btnCreatePoll
    btnCreateTask: btnCreateTask

    taskInTitle: taskInTitle
    taskInDetail: taskInDetail

    spacing: '20dp'

    RelativeLayout:

        Label:
            text: "Create a post:"
            font_size: "17sp"
            pos_hint: {"y": .445, "center_x": 0.095}
        GridLayout:
            id: inputsChoose
            opacity: 1
            rows:2
            cols:1
            spacing: '5dp'
            size_hint: (0.09, 0.11)
            pos_hint: {"top": .92, "x": 0.025}
            Button:
                text: "Create Poll"
                font_size: "11sp"
                background_color: .2, .5, .4, 1
                size_hint: (0.08, 0.01)
                pos_hint: {"top": .78, "x": 0.545}
                id: btnPollInputs
                disabled: False
                on_press: root.show_inputs('Poll')
            Button:
                text: "Create Task"
                font_size: "11sp"
                background_color: .2, .5, .4, 1
                size_hint: (0.08, 0.01)
                pos_hint: {"top": .78, "x": 0.545}
                id: btnTaskInputs
                disabled: False
                on_press: root.show_inputs('Task')

        GridLayout:
            id: inputsTask
            rows: 2
            cols: 1
            opacity: 1
            spacing: '5dp'
            size_hint: (0.50, 0.11)
            pos_hint: {"top": .92, "x": 0.125}
            TextInput:
                hint_text: "Choose Poll to create a poll post"
                id: taskInTitle
                multiline: False
                disabled: True
                pos_hint: {"top": .95, "x": 0.025}
            TextInput:
                hint_text: "Choose Task to create a task post"
                id: taskInDetail
                multiline: False
                disabled: True
                pos_hint: {"top": .95, "x": 0.025}

        Button:
            text: "Post Task"
            font_size: "11sp"
            size_hint: (0.08, 0.01)
            pos_hint: {"top": .78, "x": 0.545}
            opacity: 0
            id: btnCreateTask
            on_press: root.create_post("Task")

        Button:
            text: "Post Poll"
            font_size: "11sp"
            size_hint: (0.08, 0.01)
            pos_hint: {"top": .78, "x": 0.125}
            opacity: 0
            id: btnCreatePoll
            on_press: root.create_post("Poll")

        Button:
            text: "Back"
            font_size: "11sp"
            size_hint: (0.08, 0.01)
            pos_hint: {"top": .78, "x": 0.025}
            opacity: 0
            id: btnChooseInputs
            on_press: root.show_inputs('Back')

        Label:
            text: "No poll to display"
            pos_hint: {"y": .20, "center_x": .34}
            id: postPoll1
            canvas.before:
                Color:
                    rgba: .2, .5, .4, 1
                Rectangle:
                    pos: (20, 290)
                    size: (500, 150)
        Label:
            text: "[ 0/5 members have voted ] "
            id: postPollVote1
            color: 0.5, 0.8, 0.6, 1
            pos_hint: {"y": .16, "x": -.340}

        BoxLayout:
            size_hint: (0.6, 0.1)
            pos_hint: {"top": .60, "x": 0.036}
            spacing: '10dp'
            Button:
                text: "Option 1"
                background_color: (.2, .5, .4, 1)
                disabled: False
                id: btnPoll1
                on_press: root.poll_vote(1, 1, 0)
            Button:
                text: "Option 2"
                background_color: (.2, .5, .4, 1)
                disabled: False
                id: btnPoll2
                on_press: root.poll_vote(2, 1, 0)

        Label:
            text: "No task to display"
            pos_hint: {"center_y": .39, "center_x": .315}
            id: postTask1
            canvas.before:
                Color:
                    rgba: .2, .5, .4, 1
                Rectangle:
                    pos: (20, 190)
                    size: (500, 80)
        Button:
            text: "Claim"
            background_color: (.2, .5, .4, 1)
            size_hint: (0.07, 0.07)
            pos_hint: {"x": .57, "y": .35}
            disabled: False
            id: btnClaim
            on_press: root.task_claim(1, 0)

        Label:
            text: "Group Name: groupName \nDescription: groupDesc"
            pos_hint: {"y": .41, "x": .315}
            id: groupDesc
            name: groupDesc

            canvas.before:
                Color:
                    rgba: .30, .5, .45, 1
                Rectangle:
                    pos: (540, 240)
                    size: (230, 330)

            Label:
                text: "Users"
                pos: (524, 412)
            Label:
                text: "Tasks"
                pos: (578, 412)
            Label:
                text: "Kick"
                pos: (696, 412)
            BoxLayout:
                orientation: 'vertical'
                pos: (550, 280)
                size: (150, 170)
                Button:
                    text: "1"
                    background_color: (.2, .5, .4, 1)
                    size_hint: (0.30, 0.3)
                Button:
                    text: "2"
                    background_color: (.2, .5, .4, 1)
                    size_hint: (0.30, 0.3)
                Button:
                    text: "3"
                    background_color: (.2, .5, .4, 1)
                    size_hint: (0.30, 0.3)
                Button:
                    text: "4"
                    background_color: (.2, .5, .4, 1)
                    size_hint: (0.30, 0.3)
                Button:
                    text: "5"
                    background_color: (.2, .5, .4, 1)
                    size_hint: (0.30, 0.3)

            BoxLayout:
                orientation: 'vertical'
                pos: (565, 280)
                size: (155, 170)
                Label:
                    text: "Assigned: 4 \nCompleted: 3"
                    font_size: "11sp"
                    id: user1_info
                Label:
                    text: "Assigned: 5 \nCompleted: 3"
                    font_size: "11sp"
                    id: user2_info
                Label:
                    text: "Assigned: 2 \nCompleted: 2"
                    font_size: "11sp"
                    id: user3_info
                Label:
                    text: "Assigned: 3 \nCompleted: 2"
                    font_size: "11sp"
                    id: user4_info
                Label:
                    text: "Assigned: 1 \nCompleted: 4"
                    font_size: "11sp"
                    id: user5_info
            BoxLayout:
                orientation: 'vertical'
                spacing: '10dp'
                pos: (735, 280)
                size: (120, 170)
                Button:
                    text: "x"
                    background_color: (.4, 1, .7, 1)
                    size_hint: (0.20, 0.20)
                    on_press: root.req_kick(1, 'Member')
                Button:
                    text: "x"
                    background_color: (.4, 1, .7, 1)
                    size_hint: (0.20, 0.20)
                    on_press: root.req_kick(2, 'Member')
                Button:
                    text: "x"
                    background_color: (.4, 1, .7, 1)
                    size_hint: (0.20, 0.20)
                    on_press: root.req_kick(3, 'Member')
                Button:
                    text: "x"
                    background_color: (.4, 1, .7, 1)
                    size_hint: (0.20, 0.20)
                    on_press: root.req_kick(4, 'Member')
                Button:
                    text: "x"
                    background_color: (.4, 1, .7, 1)
                    size_hint: (0.20, 0.20)
                    on_press: root.task_complete(7, 1)
                    on_press: root.req_kick(5, 'Member')
        Label:
            text: "Description:"
            pos_hint: {"y": .338, "center_x": .82}
            font_size: "14sp"
            color: .8, .8, .8, 1
            id: groupDesc2

        Button:
            text: "Send Warning"
            background_color: (0.263, 0.263, 0.263, 1)
            font_size: "11sp"
            pos_hint: {"x": .68, "y": .41}
            size_hint: (0.135, 0.04)
            on_press: root.get_popup()

        Button:
            text: "Close Group"
            background_color: (0.263, 0.263, 0.263, 1)
            font_size: "11sp"
            pos_hint: {"x": .820, "y": .41}
            size_hint: (0.135, 0.04)
            on_press: root.req_kick(0, 'Group')

        BoxLayout:
            Button:
                text: "Go Back"
                background_color: (0.2, 0.5, 0.4, 1)
                size_hint: (0.2, 0.06)
                on_press:  app.root.current = "profile"